
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>회원 정보</title>
<link rel="stylesheet" href="/static/css/style.css">
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
<script>
	function checkForm(){
		//alert("test");
		let pwd1 = document.getElementById("password");
		let pwd2 = document.getElementById("password_confirm");
		
		if(pwd1.value != pwd2.value){
			alert("비밀번호를 동일하게 입력해주세요");
			password_confirm.select();
			return false;
		}
	}
</script>
</head>
<body>
	<div th:replace="menu.html::nav"></div>
	<div id="container">
		<h2>회원 정보</h2>
		<form th:action="@{/updateMember}" method="post" id="infoForm"
		      th:onsubmit="return checkForm()">
			<table class="tbl_login">
				<tr>
					<td>아이디</td>
					<td><input type="text" name="id" th:value="${member.id}"></td>
				</tr>
				<tr>
					<td>비밀번호</td>
					<td><input type="password" name="password" th:value="${member.password}" 
					           id="password"></td>
				</tr>
				<tr>
					<td>비밀번호 확인</td>
					<td><input type="password" name="password_confirm" th:value="${member.password}"
					           id="password_confirm"></td>
				</tr>
				<tr>
					<td>이름</td>
					<td><input type="text" name="name" th:value="${member.name}"></td>
				</tr>
				<tr>
					<td>가입일</td>
					<td><input type="text" name="role" th:value="${member.regDate}"></td>
				</tr>
				<tr>
					<td colspan="2" align="center">
					   <button type="submit">수정</button>
					   <a th:href="@{/deleteMember(id=${member.id})}"
					      th:onclick="return confirm('정말로 삭제하시겠습니까?')">
					   		<button type="button">탈퇴</button></a>
					</td>
				</tr>
			</table>
		</form>
	</div>
</body>
</html>